{% extends 'index.html' %}

{% block name %}
    Task.iscool.ml
{% endblock %}

{% block list %}
<!-- Todo Item 1 -->
    {% for task in tasks %}
        <div class="row px-3 align-items-center todo-item rounded">
            <div class="col-auto m-1 p-0 d-flex align-items-center">
                <h2 class="m-0 p-0">
                    <!-- To edit -->
                    {% if task.check == False %}    
                        <a href="/check/{{task.id}}">
                            <i class="fa fa-square-o text-primary btn m-0 p-0" data-toggle="tooltip" data-placement="bottom" title="Mark as complete"></i>
                        </a>
                        
                    {% else %} 
                        <a href="/uncheck/{{task.id}}">
                            <i class="fa fa-check-square-o text-primary btn m-0 p-0" data-toggle="tooltip" data-placement="bottom" title="Mark as todo"></i>
                        </a>
                    {% endif %}
                </h2>
            </div>
            <div class="col px-1 m-1 d-flex align-items-center">
                <input type="text" class="form-control form-control-lg border-0 edit-todo-input bg-transparent rounded px-3" readonly value="{{ task.content }}" title="{{ task.content }}" />
                <input type="text" class="form-control form-control-lg border-0 edit-todo-input rounded px-3 d-none" value="{{ task.content }}" />
            </div>
            <div class="col-auto m-1 p-0 px-3 d-none">
            </div>
            <div class="col-auto m-1 p-0 todo-actions">
                <div class="row d-flex align-items-center justify-content-end">
                    <h5 class="m-0 p-0 px-2">
                        <a href="/edit/{{ task.id }}">
                            <i class="fa fa-pencil text-info btn m-0 p-0" data-toggle="tooltip" data-placement="bottom" title="Изменить"></i>
                        </a>
                    </h5>
                    <h5 class="m-0 p-0 px-2">
                        <a href="/delete/{{ task.id }}">
                            <i class="fa fa-trash-o text-danger btn m-0 p-0" data-toggle="tooltip" data-placement="bottom" title="Удалить"></i>
                        </a>
                    </h5>
                </div>
                <div class="row todo-created-info">
                    <div class="col-auto d-flex align-items-center pr-2">
                        <i class="fa fa-info-circle my-2 px-2 text-black-50 btn" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Created date"></i>
                        <label class="date-label my-2 text-black-50">{{ task.date_created.date() }}</label>
                    </div>
                </div>
            </div>
        </div>
    {% endfor %}
{% endblock %}

{% block form %}
    <form action="/" method="POST" class="row bg-white rounded shadow-sm p-2 add-todo-wrapper align-items-center justify-content-center">
        <div class="col">
            <input name='task_content' id="content" class="form-control form-control-lg border-0 add-todo-input bg-transparent rounded" type="text" placeholder="Создать...">
        </div>
        <div class="col-auto px-0 mx-0 mr-2">
            <input type="submit" class="btn btn-primary">
        </div>                    
    </form>
{% endblock %}